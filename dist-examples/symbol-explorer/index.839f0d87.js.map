{"mappings":"kgBAMA,MAAMA,EAASC,SAASC,eAAe,UACjCC,EAAQH,EAAOI,WAAW,MAChC,IAAIC,EAAMC,EAAAC,YAAYP,GAGtB,MAAMQ,EAAQ,IAAIC,EAAAC,cAAcP,GAC1BQ,EAAY,CACdC,KAAMJ,EAAMK,cAAc,OAAQ,kBAClCC,SAAUN,EAAMK,cAAc,WAAY,+CAMpCF,EAAUC,KAAKG,iBACfJ,EAAUG,SAASC,WACzBC,QAAQC,IAAIN,EAAUC,MAItB,IAAIM,EAAQ,EACRC,EAAUR,EAAUS,OAAOC,KAAKV,GAAW,IAC3CW,EAASH,EAAQI,MAAM,GAC3B,IAAIC,EAAc,EAWlBlB,EAAAmB,kBAAkBL,OAAOC,KAAKV,GAAW,GAAIA,GALnBe,IACtBP,EAAUO,EACVJ,EAASH,EAAQI,MAAM,MALHI,GAAoBL,EAAOK,IACtC,KAAeH,EAAc,GAAGA,OACjC,IAAUA,eASbI,IACLpB,EAAMqB,IAAIC,UAAY,UACtBtB,EAAMqB,IAAIE,SAAS,EAAG,EAAG/B,EAAOgC,MAAOhC,EAAOiC,QAE9CzB,EAAMqB,IAAIK,OAEN1B,EAAMqB,IAAIM,UAAUnC,EAAOgC,MAAM,EAAGhC,EAAOiC,OAAO,GAClDzB,EAAMqB,IAAIO,MAAM/B,EAAKA,GAErB,MAAMgC,EAAMb,EAAY,EAIxB,IAHA,IAAIc,EAAKtC,EAAOgC,MAAMK,EAAI,EACtBE,EAAKvC,EAAOiC,OAAOI,EAAI,EAEnBG,EAAI,EAAGA,EAAIH,EAAKG,IACpB,IAAI,IAAIC,EAAI,EAAGA,EAAIJ,EAAKI,IACpBjC,EAAMqB,IAAIK,OACN1B,EAAMqB,IAAIM,WAAYE,EAAIC,EAAG,EAAGE,EAAEF,GAAMD,EAAIE,EAAG,EAAGE,EAAEH,GACpDhB,EAAOoB,KAAKxB,GAChBV,EAAMqB,IAAIc,UAItBnC,EAAMqB,IAAIc,UAEVzB,IACA0B,sBAAsBhB,GAI1BA,GAKJiB","sources":["examples/symbol-explorer/symbol-explorer.ts"],"sourcesContent":["import { addExampleButtons, setupCanvas } from \"../example-utils\";\nimport { SceneCanvas2d } from \"animcc/SceneCanvas2d\";\nimport { Clip } from \"animcc/Clip\";\nimport { Library } from \"animcc/Library\";\n\n\nconst canvas = document.getElementById(\"canvas\") as HTMLCanvasElement\nconst ctx2d = canvas.getContext('2d')!\nvar dpr = setupCanvas(canvas) // Device pixel ratio\n\n// Set up animation context and libraries\nconst scene = new SceneCanvas2d(ctx2d)\nconst libraries = {\n    test: scene.createLibrary('test', '../assets/test'),\n    monsters: scene.createLibrary('monsters', '../assets/monsters'),\n}\n\n\nasync function init(){\n    // Load the libraries\n    await libraries.test.loadData();\n    await libraries.monsters.loadData();\n    console.log(libraries.test)\n\n\n    // Example state\n    let frame = 0;\n    let library = libraries[Object.keys(libraries)[0] as keyof typeof libraries]\n    let symbol = library.clips[0]\n    var colsAndRows = 1;\n\n    // Set up example ui\n    const onSymbolPicked = (nextSymbol:Clip) => symbol=nextSymbol\n    const onMinus =  () => { if(colsAndRows > 1) colsAndRows-- }\n    const onPlus =  () => colsAndRows++\n    const onLibrarySeleced = (nextLibrary:Library) => {\n        library = nextLibrary\n        symbol = library.clips[0]\n    }\n\n    addExampleButtons(Object.keys(libraries)[0], libraries, onLibrarySeleced, onSymbolPicked, onMinus, onPlus)\n\n    \n    function update(){\n        scene.ctx.fillStyle = '#cccccc'\n        scene.ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n        scene.ctx.save();\n        \n            scene.ctx.translate(canvas.width/2, canvas.height/2)\n            scene.ctx.scale(dpr, dpr)\n\n            const num = colsAndRows+1;\n            var xo = canvas.width/num/2;\n            var yo = canvas.height/num/2;\n        \n            for(var x = 1; x < num; x++){\n                for(var y = 1; y < num; y++){\n                    scene.ctx.save();\n                        scene.ctx.translate(-(num*xo/2)+x*xo, -(num*yo/2)+y*xo)\n                        symbol.draw(frame)\n                    scene.ctx.restore();\n                }\n            }\n        \n        scene.ctx.restore()\n        \n        frame++;\n        requestAnimationFrame(update)\n    }\n\n\n    update();\n}\n\n\n\ninit();\n\n"],"names":["$3afaed1236337413$var$canvas","document","getElementById","$3afaed1236337413$var$ctx2d","getContext","$3afaed1236337413$var$dpr","$5BHcR","setupCanvas","$3afaed1236337413$var$scene","$b4RtA","SceneCanvas2d","$3afaed1236337413$var$libraries","test","createLibrary","monsters","loadData","console","log","frame","library","Object","keys","symbol","clips","colsAndRows","addExampleButtons","nextLibrary","nextSymbol","update","ctx","fillStyle","fillRect","width","height","save","translate","scale","num","xo","yo","x","y","draw","restore","requestAnimationFrame","$3afaed1236337413$var$init"],"version":3,"file":"index.839f0d87.js.map"}