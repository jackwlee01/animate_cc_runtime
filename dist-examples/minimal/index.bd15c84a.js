function t(t,e,n,o){Object.defineProperty(t,e,{get:n,set:o,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},s=e.parcelRequire5443;null==s&&((s=function(t){if(t in n)return n[t].exports;if(t in o){var e=o[t];delete o[t];var s={id:t,exports:{}};return n[t]=s,e.call(s.exports,s,s.exports),s.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){o[t]=e},e.parcelRequire5443=s),s.register("5BHcR",(function(e,n){function o(t){const e=t.getContext("2d");e.imageSmoothingEnabled=!0,e.imageSmoothingQuality="high";var n=document.body.getBoundingClientRect();t.width=Math.min(1e3,n.width-8),t.height=t.width;let o=window.devicePixelRatio||1,s=t.getBoundingClientRect();return t.style.width=t.width+"px",t.style.height=t.height+"px",t.width=s.width*o,t.height=s.height*o,o}function s(t,e,n,o,i,a){const r=e[t],c=document.getElementById("buttons"),h=document.createElement("select");h.value=t,h.onchange=t=>{const r=document.getElementById("buttons");for(;r.childNodes.length>0;)r.childNodes[0].remove();s(h.value,e,n,o,i,a),n(e[h.value])},c.appendChild(h);for(const n of Object.keys(e)){const e=document.createElement("option");e.value=n,e.selected=n==t,e.innerText=n,h.appendChild(e)}const d=document.createElement("button");d.innerHTML="-",d.onclick=i,c.appendChild(d);const l=document.createElement("button");l.innerHTML="+",l.onclick=a,c.appendChild(l);for(const t of r.clips)if(-1==t.name.indexOf("/")&&0!=t.name.indexOf("Symbol ")&&0!=t.name.indexOf("Tween ")&&-1==t.name.indexOf("/Symbol ")&&-1==t.name.indexOf("/Tween ")){var p=document.createElement("button");p.innerHTML=t.name,p.onclick=()=>o(t),c.appendChild(p)}}t(e.exports,"setupCanvas",(()=>o)),t(e.exports,"addExampleButtons",(()=>s))})),s.register("b4RtA",(function(e,n){t(e.exports,"SceneCanvas2d",(()=>h));var o=s("8Ge4E"),i=s("aIUQE"),a=s("grEWN"),r=s("7oRJk"),c=s("ixNXR");class h extends o.Scene{constructor(t){super(),this.draw=(t,e,n,o)=>{if(t instanceof a.Layer)if("Clipper"==t.type);else if(t.clippedBy){const s=t.clip.layersByName[t.clippedBy];this.pushRenderTarget(),s.draw(e,n,o),this.ctx.globalCompositeOperation="source-in",o?o(t,e,n):t.draw(e,n,o),this.popRenderTarget()}else o?o(t,e,n):t.draw(e,n,o);else if(t instanceof i.Instance){this.ctx.save(),this.transformInstance(t,e,n);const s=this.handleFilters(t,e,n);this.handleColor(t,e,n),o?o(t,e,n):t.draw(e,n,o),s&&this.popRenderTarget(),this.ctx.restore()}else r.Sprite,o?o(t,e,n):t.draw(e,n,o)},this.drawImage=(t,e,n,o,s,i,a,r,c)=>{this.ctx.drawImage(t,e,n,o,s,i,a,r,c)},this.canvas=t.canvas,this.stack=[t],this.pool=[],this._mouseX=-1,this._mouseY=-1,t.canvas.addEventListener("mousemove",this.onMouseMove.bind(this))}onMouseMove(t){const e=this.canvas.getBoundingClientRect(),n=this.canvas.width/e.width,o=this.canvas.height/e.height;this._mouseX=(t.clientX-e.left)*n,this._mouseY=(t.clientY-e.top)*o}get mouseX(){return this._mouseX}get mouseY(){return this._mouseY}getLocal(t,e){const n=new DOMPoint(t,e),o=this.ctx.getTransform().inverse();return n.matrixTransform(o)}get ctx(){return this.stack[this.stack.length-1]}pushRenderTarget(){const t=0==this.pool.length?document.createElement("canvas").getContext("2d"):this.pool.pop();t.canvas.width=this.ctx.canvas.width,t.canvas.height=this.ctx.canvas.height,t.setTransform(this.ctx.getTransform()),this.stack.push(t)}popRenderTarget(){if(this.stack.length<=1)throw"Cannot pop stack";const t=this.stack.pop();this.ctx.save(),this.ctx.resetTransform(),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.pool.push(t)}handleColor(t,e,n){"CA"!=t.color?.mode&&"Alpha"!=t.color?.mode&&"Advanced"!=t.color?.mode&&"AD"!=t.color?.mode||(this.ctx.globalAlpha*=t.color.alphaMultiplier)}handleFilters(t,e,n){if(t.filters)for(let e of Object.keys(t.filters)){const n=e;if("DropShadowFilter"==n){const e=t.filters[n];return this.pushDropShadow(e.color+Math.round(255*e.strength).toString(16),e.blurX,Math.cos(e.angle*Math.PI/180)*e.distance,Math.sin(e.angle*Math.PI/180)*e.distance),!0}}}pushDropShadow(t,e,n=0,o=0){this.ctx.save(),this.ctx.shadowColor=t,this.ctx.shadowBlur=e,this.ctx.shadowOffsetX=n,this.ctx.shadowOffsetY=o,this.pushRenderTarget()}popDropShadow(){this.popRenderTarget(),this.ctx.restore()}transformInstance(t,e,n){if(n&&t.next){const n=(c.modWrap(e,t.totalFrames)-t.index)/t.frame.totalFrames,o=t.matrix,s=t.next.matrix;this.ctx.transform(o._00+(s._00-o._00)*n,o._01+(s._01-o._01)*n,o._10+(s._10-o._10)*n,o._11+(s._11-o._11)*n,o._30+(s._30-o._30)*n,o._31+(s._31-o._31)*n)}else this.ctx.transform(t.matrix._00,t.matrix._01,t.matrix._10,t.matrix._11,t.matrix._30,t.matrix._31)}}}));
//# sourceMappingURL=index.bd15c84a.js.map
