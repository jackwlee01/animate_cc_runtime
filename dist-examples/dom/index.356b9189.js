var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},s={},n=t.parcelRequire5443;null==n&&((n=function(t){if(t in e)return e[t].exports;if(t in s){var n=s[t];delete s[t];var a={id:t,exports:{}};return e[t]=a,n.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){s[t]=e},t.parcelRequire5443=n);var a=n("grEWN"),r=n("8Ge4E"),i=n("37DlR"),o=n("b16Gm"),l=n("7oRJk"),p=n("1WBAd");class h extends r.Scene{constructor(t){super(),this.draw=(t,e,s,n)=>{this.container&&(t instanceof a.Layer?(this.pushElem("layer",t.name,t.id),n?n(t,e,s):t.draw(e,s,n),this.pop()):t instanceof o.Frame?(this.pushElem("frame",t.name,t.id),n?n(t,e,s):t.draw(e,s,n),this.pop()):t instanceof p.SpriteInstance?(this.pushElem("sprite",t.name,t.id),this.transformInstance(t,e,s),n?n(t,e,s):t.draw(e,s,n),this.pop()):t instanceof i.ClipInstance?(this.pushElem("clip",t.name,t.id),this.transformInstance(t,e,s),n?n(t,e,s):t.draw(e,s,n),this.pop()):t instanceof l.Sprite?(this.current.style.width=t.width+"px",this.current.style.height=t.height+"px",this.current.style.backgroundImage=`url(${t.atlas.image.src})`,this.current.style.backgroundPosition=`${-t.x}px ${-t.y}px`):n?n(t,e,s):t.draw(e,s,n))},this.elemId=t,this.elems=[],this.stack=[this.container]}get current(){return this.stack[this.stack.length-1]}pushElem(t,e,s){const n=document.createElement("div");n.className=`anim anim-${t} anim-of-${e}`,n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.width="0px",n.style.height="0px",this.current.appendChild(n),this.elems.push(n),this.stack.push(n)}pop(){this.stack.pop()}get container(){return document.getElementById(this.elemId)}clear(){for(;this.elems.length>0;){this.elems.shift().remove()}}pushTranslate(t,e){this.pushElem("transform","translate","__transform__"),this.current.style.transform=`translate(${t}, ${e})`}pushScale(t,e){this.pushElem("transform","scale","__scale__"),this.current.style.transform=`scale(${t}, ${e})`}pushRotation(t){this.pushElem("transform","rotation","__rotation__"),this.current.style.transform=`rotate(${t})`}transformInstance(t,e,s){const n=t.matrix;this.current.style.transform=`matrix3d(${n._00}, ${n._01}, ${n._02}, ${n._03}, ${n._10}, ${n._11}, ${n._12}, ${n._13}, ${n._20}, ${n._21}, ${n._22}, ${n._23}, ${n._30}, ${n._31}, ${n._32}, ${n._33})`}}const c=new h("anim"),u=c.createLibrary("test","../assets/test");let d=0,m=!0,f=!1;const y=document.getElementById("btn-pause"),x=document.getElementById("btn-swap");y.onclick=()=>{m=!m,y.innerText=m?"Pause":"Play";let t=document.getElementById("gun-input");t&&t.focus()},x.onclick=()=>{f=!f};let _=document.createElement("input");_.id="gun-input",_.value="GUN!!!!",_.style.boxShadow="0px 3px 8px rgb(0 0 0 / 40%)",_.style.position="absolute",_.style.top="-10px",_.style.left="-100px",_.style.width="150px",_.style.height="30px";let g=document.createElement("input");function $(t,e,s){f&&"Shell"==t.name?c.current.appendChild(g):f&&"stardude_assets/StarGuyGun"==t.name?c.current.appendChild(_):t.draw(e,s,$)}function w(){m&&(c.clear(),c.pushTranslate("0px","10px"),c.pushScale("1","1"),c.pushRotation("0deg"),u.symbol("StarDude").draw(d,!1,$),c.pop(),c.pop(),c.pop(),c.pushTranslate("100px","10px"),c.pushScale("1","1"),c.pushRotation("0deg"),u.symbol("Walker_Laser_Rotating").draw(d,!1,$),c.pop(),c.pop(),c.pop(),d+=1),requestAnimationFrame(w)}g.type="checkbox",g.id="shell-input",g.style.position="absolute",g.style.width="30px",g.style.height="30px",g.style.transform="translate(-50%, -50%)",g.checked=!0,async function(){await u.loadData(),w()}();
//# sourceMappingURL=index.356b9189.js.map
