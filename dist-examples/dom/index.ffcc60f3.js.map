{"mappings":"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","sources":["node_modules/@parcel/runtime-browser-hmr/lib/runtime-0986b820580f18bb.js","examples/dom/dom.ts","src/SceneDom.ts","src/Layer.ts","src/Drawable.ts","node_modules/@parcel/transformer-js/src/esmodule-helpers.js","src/Frame.ts","src/ClipInstance.ts","src/geom/Vec2.ts","src/Instance.ts","src/geom/Matrix.ts","src/util/math.ts","src/SpriteInstance.ts","src/Scene.ts","src/Library.ts","src/Clip.ts","src/Sprite.ts","src/Atlas.ts","src/json/utilJson.ts","src/util/createImage.ts"],"sourcesContent":["var HMR_HOST = null;var HMR_PORT = null;var HMR_SECURE = false;var HMR_ENV_HASH = \"d6ea1d42532a7575\";module.bundle.HMR_BUNDLE_ID = \"c8b11d43ffcc60f3\";\"use strict\";\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/* global HMR_HOST, HMR_PORT, HMR_ENV_HASH, HMR_SECURE */\n\n/*::\nimport type {\n  HMRAsset,\n  HMRMessage,\n} from '@parcel/reporter-dev-server/src/HMRServer.js';\ninterface ParcelRequire {\n  (string): mixed;\n  cache: {|[string]: ParcelModule|};\n  hotData: mixed;\n  Module: any;\n  parent: ?ParcelRequire;\n  isParcelRequire: true;\n  modules: {|[string]: [Function, {|[string]: string|}]|};\n  HMR_BUNDLE_ID: string;\n  root: ParcelRequire;\n}\ninterface ParcelModule {\n  hot: {|\n    data: mixed,\n    accept(cb: (Function) => void): void,\n    dispose(cb: (mixed) => void): void,\n    // accept(deps: Array<string> | string, cb: (Function) => void): void,\n    // decline(): void,\n    _acceptCallbacks: Array<(Function) => void>,\n    _disposeCallbacks: Array<(mixed) => void>,\n  |};\n}\ndeclare var module: {bundle: ParcelRequire, ...};\ndeclare var HMR_HOST: string;\ndeclare var HMR_PORT: string;\ndeclare var HMR_ENV_HASH: string;\ndeclare var HMR_SECURE: boolean;\n*/\nvar OVERLAY_ID = '__parcel__error__overlay__';\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function accept(fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function dispose(fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n  module.bundle.hotData = undefined;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets\n/*: {|[string]: boolean|} */\n, acceptedAssets\n/*: {|[string]: boolean|} */\n, assetsToAccept\n/*: Array<[ParcelRequire, string]> */\n;\n\nfunction getHostname() {\n  return HMR_HOST || (location.protocol.indexOf('http') === 0 ? location.hostname : 'localhost');\n}\n\nfunction getPort() {\n  return HMR_PORT || location.port;\n} // eslint-disable-next-line no-redeclare\n\n\nvar parent = module.bundle.parent;\n\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = getHostname();\n  var port = getPort();\n  var protocol = HMR_SECURE || location.protocol == 'https:' && !/localhost|127.0.0.1|0.0.0.0/.test(hostname) ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + (port ? ':' + port : '') + '/'); // $FlowFixMe\n\n  ws.onmessage = function (event\n  /*: {data: string, ...} */\n  ) {\n    checkedAssets = {}\n    /*: {|[string]: boolean|} */\n    ;\n    acceptedAssets = {}\n    /*: {|[string]: boolean|} */\n    ;\n    assetsToAccept = [];\n    var data\n    /*: HMRMessage */\n    = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      // Remove error overlay if there is one\n      if (typeof document !== 'undefined') {\n        removeErrorOverlay();\n      }\n\n      var assets = data.assets.filter(function (asset) {\n        return asset.envHash === HMR_ENV_HASH;\n      }); // Handle HMR Update\n\n      var handled = assets.every(function (asset) {\n        return asset.type === 'css' || asset.type === 'js' && hmrAcceptCheck(module.bundle.root, asset.id, asset.depsByBundle);\n      });\n\n      if (handled) {\n        console.clear();\n        assets.forEach(function (asset) {\n          hmrApply(module.bundle.root, asset);\n        });\n\n        for (var i = 0; i < assetsToAccept.length; i++) {\n          var id = assetsToAccept[i][1];\n\n          if (!acceptedAssets[id]) {\n            hmrAcceptRun(assetsToAccept[i][0], id);\n          }\n        }\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'error') {\n      // Log parcel errors to console\n      var _iterator = _createForOfIteratorHelper(data.diagnostics.ansi),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var ansiDiagnostic = _step.value;\n          var stack = ansiDiagnostic.codeframe ? ansiDiagnostic.codeframe : ansiDiagnostic.stack;\n          console.error('🚨 [parcel]: ' + ansiDiagnostic.message + '\\n' + stack + '\\n\\n' + ansiDiagnostic.hints.join('\\n'));\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      if (typeof document !== 'undefined') {\n        // Render the fancy html overlay\n        removeErrorOverlay();\n        var overlay = createErrorOverlay(data.diagnostics.html); // $FlowFixMe\n\n        document.body.appendChild(overlay);\n      }\n    }\n  };\n\n  ws.onerror = function (e) {\n    console.error(e.message);\n  };\n\n  ws.onclose = function () {\n    console.warn('[parcel] 🚨 Connection to the HMR server was lost');\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n\n  if (overlay) {\n    overlay.remove();\n    console.log('[parcel] ✨ Error resolved');\n  }\n}\n\nfunction createErrorOverlay(diagnostics) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n  var errorHTML = '<div style=\"background: black; opacity: 0.85; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; font-family: Menlo, Consolas, monospace; z-index: 9999;\">';\n\n  var _iterator2 = _createForOfIteratorHelper(diagnostics),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var diagnostic = _step2.value;\n      var stack = diagnostic.codeframe ? diagnostic.codeframe : diagnostic.stack;\n      errorHTML += \"\\n      <div>\\n        <div style=\\\"font-size: 18px; font-weight: bold; margin-top: 20px;\\\">\\n          \\uD83D\\uDEA8 \".concat(diagnostic.message, \"\\n        </div>\\n        <pre>\").concat(stack, \"</pre>\\n        <div>\\n          \").concat(diagnostic.hints.map(function (hint) {\n        return '<div>💡 ' + hint + '</div>';\n      }).join(''), \"\\n        </div>\\n        \").concat(diagnostic.documentation ? \"<div>\\uD83D\\uDCDD <a style=\\\"color: violet\\\" href=\\\"\".concat(diagnostic.documentation, \"\\\" target=\\\"_blank\\\">Learn more</a></div>\") : '', \"\\n      </div>\\n    \");\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  errorHTML += '</div>';\n  overlay.innerHTML = errorHTML;\n  return overlay;\n}\n\nfunction getParents(bundle, id)\n/*: Array<[ParcelRequire, string]> */\n{\n  var modules = bundle.modules;\n\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n\n      if (dep === id || Array.isArray(dep) && dep[dep.length - 1] === id) {\n        parents.push([bundle, k]);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n\n  newLink.onload = function () {\n    if (link.parentNode !== null) {\n      // $FlowFixMe\n      link.parentNode.removeChild(link);\n    }\n  };\n\n  newLink.setAttribute('href', // $FlowFixMe\n  link.getAttribute('href').split('?')[0] + '?' + Date.now()); // $FlowFixMe\n\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\n\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n\n    for (var i = 0; i < links.length; i++) {\n      // $FlowFixMe[incompatible-type]\n      var href\n      /*: string */\n      = links[i].getAttribute('href');\n      var hostname = getHostname();\n      var servedFromHMRServer = hostname === 'localhost' ? new RegExp('^(https?:\\\\/\\\\/(0.0.0.0|127.0.0.1)|localhost):' + getPort()).test(href) : href.indexOf(hostname + ':' + getPort());\n      var absolute = /^https?:\\/\\//i.test(href) && href.indexOf(window.location.origin) !== 0 && !servedFromHMRServer;\n\n      if (!absolute) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nfunction hmrApply(bundle\n/*: ParcelRequire */\n, asset\n/*:  HMRAsset */\n) {\n  var modules = bundle.modules;\n\n  if (!modules) {\n    return;\n  }\n\n  if (asset.type === 'css') {\n    reloadCSS();\n  } else if (asset.type === 'js') {\n    var deps = asset.depsByBundle[bundle.HMR_BUNDLE_ID];\n\n    if (deps) {\n      if (modules[asset.id]) {\n        // Remove dependencies that are removed and will become orphaned.\n        // This is necessary so that if the asset is added back again, the cache is gone, and we prevent a full page reload.\n        var oldDeps = modules[asset.id][1];\n\n        for (var dep in oldDeps) {\n          if (!deps[dep] || deps[dep] !== oldDeps[dep]) {\n            var id = oldDeps[dep];\n            var parents = getParents(module.bundle.root, id);\n\n            if (parents.length === 1) {\n              hmrDelete(module.bundle.root, id);\n            }\n          }\n        }\n      }\n\n      var fn = new Function('require', 'module', 'exports', asset.output);\n      modules[asset.id] = [fn, deps];\n    } else if (bundle.parent) {\n      hmrApply(bundle.parent, asset);\n    }\n  }\n}\n\nfunction hmrDelete(bundle, id) {\n  var modules = bundle.modules;\n\n  if (!modules) {\n    return;\n  }\n\n  if (modules[id]) {\n    // Collect dependencies that will become orphaned when this module is deleted.\n    var deps = modules[id][1];\n    var orphans = [];\n\n    for (var dep in deps) {\n      var parents = getParents(module.bundle.root, deps[dep]);\n\n      if (parents.length === 1) {\n        orphans.push(deps[dep]);\n      }\n    } // Delete the module. This must be done before deleting dependencies in case of circular dependencies.\n\n\n    delete modules[id];\n    delete bundle.cache[id]; // Now delete the orphans.\n\n    orphans.forEach(function (id) {\n      hmrDelete(module.bundle.root, id);\n    });\n  } else if (bundle.parent) {\n    hmrDelete(bundle.parent, id);\n  }\n}\n\nfunction hmrAcceptCheck(bundle\n/*: ParcelRequire */\n, id\n/*: string */\n, depsByBundle\n/*: ?{ [string]: { [string]: string } }*/\n) {\n  if (hmrAcceptCheckOne(bundle, id, depsByBundle)) {\n    return true;\n  } // Traverse parents breadth first. All possible ancestries must accept the HMR update, or we'll reload.\n\n\n  var parents = getParents(module.bundle.root, id);\n  var accepted = false;\n\n  while (parents.length > 0) {\n    var v = parents.shift();\n    var a = hmrAcceptCheckOne(v[0], v[1], null);\n\n    if (a) {\n      // If this parent accepts, stop traversing upward, but still consider siblings.\n      accepted = true;\n    } else {\n      // Otherwise, queue the parents in the next level upward.\n      var p = getParents(module.bundle.root, v[1]);\n\n      if (p.length === 0) {\n        // If there are no parents, then we've reached an entry without accepting. Reload.\n        accepted = false;\n        break;\n      }\n\n      parents.push.apply(parents, _toConsumableArray(p));\n    }\n  }\n\n  return accepted;\n}\n\nfunction hmrAcceptCheckOne(bundle\n/*: ParcelRequire */\n, id\n/*: string */\n, depsByBundle\n/*: ?{ [string]: { [string]: string } }*/\n) {\n  var modules = bundle.modules;\n\n  if (!modules) {\n    return;\n  }\n\n  if (depsByBundle && !depsByBundle[bundle.HMR_BUNDLE_ID]) {\n    // If we reached the root bundle without finding where the asset should go,\n    // there's nothing to do. Mark as \"accepted\" so we don't reload the page.\n    if (!bundle.parent) {\n      return true;\n    }\n\n    return hmrAcceptCheck(bundle.parent, id, depsByBundle);\n  }\n\n  if (checkedAssets[id]) {\n    return true;\n  }\n\n  checkedAssets[id] = true;\n  var cached = bundle.cache[id];\n  assetsToAccept.push([bundle, id]);\n\n  if (!cached || cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n}\n\nfunction hmrAcceptRun(bundle\n/*: ParcelRequire */\n, id\n/*: string */\n) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n\n  if (cached && cached.hot) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n  cached = bundle.cache[id];\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      var assetsToAlsoAccept = cb(function () {\n        return getParents(module.bundle.root, id);\n      });\n\n      if (assetsToAlsoAccept && assetsToAccept.length) {\n        // $FlowFixMe[method-unbinding]\n        assetsToAccept.push.apply(assetsToAccept, assetsToAlsoAccept);\n      }\n    });\n  }\n\n  acceptedAssets[id] = true;\n}","import { SceneDom } from \"animcc/SceneDom\";\nimport { Drawable } from \"animcc/Drawable\";\n\n\n// Set up animation context and animation libraries\nconst scene = new SceneDom('anim')\nconst testLibrary = scene.createLibrary('test', '../assets/test')\n\n\nasync function init(){\n    await testLibrary.loadData();\n    update();\n}\n\nlet frame = 0;\nlet play = true;\nlet swap = false;\n\nconst btnPause = document.getElementById('btn-pause')!\nconst btnSwap = document.getElementById('btn-swap')!\nbtnPause.onclick = () => {\n    play = !play;\n    btnPause.innerText = play ? \"Pause\" : \"Play\"\n    let gunInput = document.getElementById(\"gun-input\");\n    if(gunInput){\n        gunInput.focus();\n    }\n}\nbtnSwap.onclick = () => {\n    swap = !swap;\n}\n\nlet gunInput = document.createElement('input')\ngunInput.id = \"gun-input\"\ngunInput.value = \"GUN!!!!\"\ngunInput.style.boxShadow = '0px 3px 8px rgb(0 0 0 / 40%)'\ngunInput.style.position = 'absolute'\ngunInput.style.top = '-10px'\ngunInput.style.left = '-100px'\ngunInput.style.width = '150px'\ngunInput.style.height = '30px'\n\nlet shellInput = document.createElement('input')\nshellInput.type = 'checkbox'\nshellInput.id = \"shell-input\"\nshellInput.style.position = 'absolute'\nshellInput.style.width = '30px'\nshellInput.style.height = '30px'\nshellInput.style.transform = 'translate(-50%, -50%)'\nshellInput.checked = true;\n\n\nfunction drawWithLogic(item:Drawable, frame:number, lerp?:boolean){\n    if(swap && item.name==\"Shell\"){\n        scene.current.appendChild(shellInput)\n    }else if(swap && item.name==\"stardude_assets/StarGuyGun\"){\n        scene.current.appendChild(gunInput)\n    }else{\n        item.draw(frame, lerp, drawWithLogic)\n    }\n}\n\nfunction update(){\n    if(play){\n        scene.clear();\n\n        scene.pushTranslate('0px', '10px')\n        scene.pushScale('1', '1')\n        scene.pushRotation('0deg')\n        testLibrary.symbol(\"StarDude\").draw(frame, false, drawWithLogic)\n        scene.pop();\n        scene.pop();\n        scene.pop();\n\n        scene.pushTranslate('100px', '10px')\n        scene.pushScale('1', '1')\n        scene.pushRotation('0deg')\n        testLibrary.symbol(\"Walker_Laser_Rotating\").draw(frame, false, drawWithLogic)\n        scene.pop();\n        scene.pop();\n        scene.pop();\n\n        frame += 1;\n    }\n\n    requestAnimationFrame(update)\n}\n\n\n\n\ninit();\n","import { Layer } from \"./Layer\";\nimport { Scene } from \"./Scene\"\nimport { ClipInstance } from \"./ClipInstance\";\nimport { Drawable } from \"./Drawable\"\nimport { Frame } from \"./Frame\";\nimport { Instance } from \"./Instance\"\nimport { Sprite } from \"./Sprite\"\nimport { SpriteInstance } from \"./SpriteInstance\";\nimport { modWrap } from \"./util/math\";\nimport { Float } from \"./types/Float\";\n\n\nexport class SceneDom extends Scene{\n    \n    elemId:string\n    elems:Array<HTMLElement>\n    stack:Array<HTMLElement>\n    \n\n    constructor(elemId:string){\n        super();\n        this.elemId = elemId\n        this.elems = []\n        this.stack = [this.container]\n    }\n\n\n    get current(){\n        return this.stack[this.stack.length-1] as HTMLDivElement\n    }\n\n\n\n    pushElem(type:string, name:string, id:string){\n        const elem = document.createElement('div');\n        elem.className = `anim anim-${type} anim-of-${name}`\n        elem.style.position = 'absolute'\n        elem.style.top = '0px'\n        elem.style.left = '0px'\n        elem.style.width = '0px'\n        elem.style.height = '0px'\n        this.current.appendChild(elem)\n        this.elems.push(elem)\n        this.stack.push(elem)\n    }\n\n\n    pop(){\n        this.stack.pop()\n    }\n\n\n    get container(){\n        return document.getElementById(this.elemId) as HTMLDivElement\n    }\n\n\n    clear(){\n        while(this.elems.length > 0){\n            const elem = this.elems.shift()!;\n            elem.remove();\n        }\n    }\n\n\n    draw = (item:Drawable, frame:Float, lerp?:boolean, callback?:(item:Drawable, frame:Float, lerp?:boolean)=>void) => {\n        if(!this.container) return;\n        if(item instanceof Layer){\n            this.pushElem('layer', item.name, item.id)\n            if(callback) callback(item, frame, lerp)\n            else item.draw(frame, lerp, callback)\n            this.pop()\n        }else if(item instanceof Frame){\n            this.pushElem('frame', item.name, item.id)\n            if(callback) callback(item, frame, lerp)\n            else item.draw(frame, lerp, callback)\n            this.pop()\n        }else if(item instanceof SpriteInstance){\n            this.pushElem('sprite', item.name, item.id)\n            this.transformInstance(item, frame, lerp)\n            if(callback) callback(item, frame, lerp)\n            else item.draw(frame, lerp, callback)\n            this.pop()\n        }else if(item instanceof ClipInstance){\n            this.pushElem('clip', item.name, item.id)\n            this.transformInstance(item, frame, lerp)\n            if(callback) callback(item, frame, lerp)\n            else item.draw(frame, lerp, callback)\n            this.pop()\n        }else if(item instanceof Sprite){\n            this.current.style.width = item.width + 'px'\n            this.current.style.height = item.height + 'px'\n            this.current.style.backgroundImage = `url(${item.atlas.image.src})`\n            this.current.style.backgroundPosition = `${-item.x}px ${-item.y}px`\n            //this.current.style.border = '1px solid red'\n        }else{\n            if(callback) callback(item, frame, lerp)\n            else item.draw(frame, lerp, callback)\n        }\n    }\n\n\n    pushTranslate(x:string, y:string){\n        this.pushElem('transform', 'translate', '__transform__')\n        this.current.style.transform = `translate(${x}, ${y})`\n    }\n\n\n    pushScale(x:string, y:string){\n        this.pushElem('transform', 'scale', '__scale__')\n        this.current.style.transform = `scale(${x}, ${y})`\n    }\n\n    pushRotation(z:string){\n        this.pushElem('transform', 'rotation', '__rotation__')\n        this.current.style.transform = `rotate(${z})`\n    }\n    \n\n    transformInstance(item:Instance, frame:Float, lerp?:boolean){\n        /*\n        const m = item.matrix2d\n        if(lerp && item.next){\n            const t = (modWrap(frame, item.totalFrames)-item.index) / item.frame.totalFrames;\n            const m1 = item.matrix2d\n            const m2 = item.next.matrix2d \n            this.current.style.transform = `matrix(${m1.a + (m2.a-m1.a)*t}, ${m1.b + (m2.b-m1.b)*t}, ${m1.c + (m2.c-m1.c)*t}, ${m1.d + (m2.d-m1.d)*t}, ${m1.e + (m2.e-m1.e)*t}, ${m1.f + (m2.f-m1.f)*t})`\n        }else{\n            this.current.style.transform = `matrix(${m.a}, ${m.b}, ${m.c}, ${m.d}, ${m.e}, ${m.f})`\n       }\n        */\n       const m = item.matrix;\n       this.current.style.transform = `matrix3d(${m._00}, ${m._01}, ${m._02}, ${m._03}, ${m._10}, ${m._11}, ${m._12}, ${m._13}, ${m._20}, ${m._21}, ${m._22}, ${m._23}, ${m._30}, ${m._31}, ${m._32}, ${m._33})`\n    }\n\n}","import { Clip } from \"./Clip\";\nimport { Drawable } from \"./Drawable\";\nimport { Frame, FrameProps } from \"./Frame\";\nimport { DrawableProps } from \"./Drawable\"\nimport { modWrap } from \"./util/math\";\nimport { Int } from \"./types/Int\";\nimport { Float } from \"./types/Float\";\n\n\n\nexport type LayerProps = Omit<DrawableProps, 'totalFrames'|'id'|'library'> & {\n    clip:Clip\n    type: 'Normal'|'Clipper',\n    clippedBy?:string|null,\n}\n\n\nexport class Layer extends Drawable{\n\n    public index:Int;\n    public type: LayerProps['type'];\n    public clippedBy:string|null;\n    public frames:Array<Frame>;\n    public framesByName:Record<string, Frame>;\n    public labels:Array<Frame>;\n    public clip:Clip;\n\n\n    constructor(props:LayerProps){\n        super({\n            ...props,\n            totalFrames:0,\n            id:`${props.clip.id}.${props.name}`,\n            library: props.clip.library,\n        });\n        \n        this.clip = props.clip;\n        this.type = props.type;\n        this.clippedBy = props.clippedBy || null;\n        this.index = this.clip.layers.length;\n        this.frames = [];\n        this.framesByName = {};\n        this.labels = [];\n    }\n\n\n    public createFrame(props:Omit<FrameProps, 'layer'>){\n        const frame = new Frame({...props, layer:this});\n\n        // TODO: Allow for more flexibility when adding frames\n        if(this.frames.length>0 && this.lastFrame.index+this.lastFrame.totalFrames != frame.index) throw(\"Must add next frame at previous frame.index+frame.duration\")\n\n        this.framesByName[frame.name] = frame;\n        if(frame.index+frame.totalFrames > this.totalFrames) this.totalFrames = frame.index+frame.totalFrames\n        if(frame.labelName){\n            this.labels.push(frame);\n        }\n        this.clip.__addFrame(frame);\n        /* TODO: Determine if this should be nessessary\n        if(this.firstFrame){\n            this.firstFrame.prev = frame\n            frame.next = this.firstFrame\n        }\n        */\n        if(this.lastFrame){\n            this.lastFrame.next = frame\n            frame.prev = this.lastFrame\n        }\n        this.frames.push(frame)\n        return frame;\n    }\n\n\n    public get lastFrame(){\n        return this.frames[this.frames.length-1];\n    }\n\n\n    public get firstFrame(){\n        return this.frames[0];\n    }\n\n\n    public keyframeAt(frame:Float){\n        // TODO: Binary search would be a good optimisation here\n        frame = modWrap(frame, this.totalFrames);\n        for(const keyframe of this.frames){\n            if(keyframe.index<=frame && keyframe.index+keyframe.totalFrames > frame)\n            return keyframe;\n        }\n        return null;\n    }\n\n\n    public draw(frame:Float, lerp?:boolean, callback?:(item:Drawable, frame:Float, lerp?:boolean)=>void):void{\n        var keyframe = this.keyframeAt(frame)\n        if(keyframe!=null){\n            this.library.scene.draw(keyframe, frame, lerp, callback);\n        }\n    }\n\n}\n","import { Library } from \"./Library\";\nimport { Float } from \"./types/Float\";\nimport { Int } from \"./types/Int\";\n\n\nexport type DrawableProps = {\n    name:string,\n    id:string,\n    totalFrames:Int,\n    library:Library;\n}\n\n\nexport abstract class Drawable{\n    name:string;\n    id:string;\n    totalFrames:Int = 1;\n    library:Library;\n\n\n    constructor(props:DrawableProps){\n        this.name = props.name;\n        this.id = props.id;\n        this.totalFrames = props.totalFrames;\n        this.library = props.library;\n    }\n\n\n    public get scene(){\n        return this.library.scene;\n    }\n\n\n    public draw(frame:Float, lerp?:boolean, callback?:(item:Drawable, frame:Float, lerp?:boolean)=>void){\n        // Override in base class\n    }\n\n}","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (key === 'default' || key === '__esModule' || dest.hasOwnProperty(key)) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n","import { ClipInstance, ClipInstanceProps } from \"./ClipInstance\";\nimport { Drawable } from \"./Drawable\";\nimport { Layer } from \"./Layer\";\nimport { SpriteInstance, SpriteInstanceProps } from \"./SpriteInstance\";\nimport { DrawableProps } from \"./Drawable\";\nimport { Int } from \"./types/Int\";\nimport { Float } from \"./types/Float\";\n\n\n\nexport type FrameProps = Omit<DrawableProps, 'id' | 'library'> & {\n    index:Int,\n    layer:Layer,\n    labelName?:string|undefined|null,\n}\n\n\nexport class Frame extends Drawable{\n\n    index:number\n    labelName:string|null;\n    layer:Layer;\n    instances:Array<ClipInstance|SpriteInstance> = [];\n    prev:Frame|undefined;\n    next:Frame|undefined;\n\n\n    constructor(props:FrameProps){\n        super({\n            ...props,\n            id: `${props.layer.id}.${props.index}`,\n            library: props.layer.library\n        });\n        \n        this.layer = props.layer;\n        this.index = props.index;\n        this.labelName = props.labelName || null;\n    }\n\n\n    public createClipInstance(props:Omit<ClipInstanceProps, 'frame'|'totalFrames'>){\n        const clipInstance = new ClipInstance({...props, frame:this, totalFrames:this.totalFrames})\n        this.instances.push(clipInstance)\n        return clipInstance;\n    }\n\n\n    public createSpriteInstance(props:Omit<SpriteInstanceProps, 'frame'|'totalFrames'>){\n        const spriteInstance = new SpriteInstance({...props, frame:this, totalFrames:this.totalFrames})\n        this.instances.push(spriteInstance)\n        return spriteInstance\n    }\n\n\n    public draw(frame:Float, lerp?:boolean, callback?:(item:Drawable, frame:Float)=>void):void{\n        for(const instance of this.instances){\n            this.library.scene.draw(instance, frame, lerp, callback)\n        }\n    }\n\n}\n","import { Drawable } from \"./Drawable\";\nimport { Vec2 } from \"./geom/Vec2\";\nimport { Instance } from \"./Instance\";\nimport { InstanceProps } from \"./Instance\"\nimport { Float } from \"./types/Float\";\nimport { modWrap } from \"./util/math\";\n\ntype LoopKind = 'loop' // TODO: HANDLE OTHER LOOP KINDS | 'PlayOnce' | 'SingleFrame' | 'PlayOnceReverse' | 'LoopReverse'\n\n\ntype ClipInstanceBehavior = {\n    type: 'graphic'\n    loop:LoopKind;\n    firstFrame:Float;\n} | {\n    type: 'movieclip'\n}\n\n\nexport type ClipInstanceProps = InstanceProps & { \n    transformationPoint?:Vec2,   \n    behaviour?:ClipInstanceBehavior\n}\n\n\nexport class ClipInstance extends Instance{\n\n    transformationPoint:Vec2\n    behaviour:ClipInstanceBehavior\n    \n    \n    constructor(props:ClipInstanceProps){\n        super(props);\n        this.behaviour = props.behaviour || { type: 'movieclip' };\n        this.transformationPoint = props.transformationPoint || new Vec2({x:0, y:0});\n    }\n\n\n    public get item(){\n        return this.library.clipsByName[this.itemName];\n    }\n\n\n    public draw(frame:Float, lerp?:boolean, callback?:(item:Drawable, frame:Float, lerp?:boolean)=>void):void{\n        if(this.behaviour.type == 'graphic'){\n            frame = this.behaviour.firstFrame + modWrap(frame, 1);\n        }\n        this.library.scene.draw(this.item, frame, lerp, callback)\n    }\n\n\n}\n","import { Float } from \"../types/Float\"\n\nexport class Vec2 {\n\n    x:Float\n    y:Float\n    data:Float32Array\n\n    \n    constructor(props:{x:Float, y:Float}){\n        this.x = props.x\n        this.y = props.y\n        this.data = new Float32Array([this.x, this.y])\n    }\n    \n}","import { Drawable } from \"./Drawable\";\nimport { Frame } from \"./Frame\";\nimport { DrawableProps } from './Drawable'\nimport { Matrix } from \"./geom/Matrix\";\nimport { JsonColor, JsonFilters } from \"./json/AnimationJson\";\nimport { Float } from \"./types/Float\";\n\n\nexport type InstanceProps = Omit<DrawableProps, 'id' | 'library'> & {\n    itemName:string,\n    matrix?:Matrix,\n    frame:Frame,\n    filters?:JsonFilters|null,\n    color?:JsonColor|null,\n    //position:Vec3,\n    //scale:Vec3,\n    //rotation:Vec3,\n}\n\n\nexport class Instance extends Drawable{\n\n    matrix:Matrix;\n    frame:Frame;\n    index:number;\n    itemName:string;\n    filters:JsonFilters|null;\n    color:JsonColor|null;\n    //position:Vec3;\n    //scale:Vec3;\n    //rotation:Vec3;\n    //filters = new Array<Filter>();\n\n    \n    constructor(props:InstanceProps){\n        super({\n            ...props,\n            library: props.frame.library,\n            id: `${props.frame.id}.${props.frame.instances.length}`,\n        });\n\n        this.itemName = props.itemName;\n        this.matrix = props.matrix || new Matrix(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n        this.filters = props.filters || null;\n        this.color = props.color || null;\n        //this.position = props.position;\n        //this.scale = props.scale;\n        //this.rotation = props.rotation;\n        this.frame = props.frame;\n        this.index = this.frame.instances.length;\n    }\n\n\n    public get prev():Instance|undefined{\n        const item = this.frame.prev?.instances[this.index]\n        return item?.itemName==this.itemName ? item : undefined \n    }\n\n\n    public get next():Instance|undefined{\n        const item = this.frame.next?.instances[this.index]\n        return item?.itemName==this.itemName ? item : undefined\n    }\n\n\n    public get item():Drawable{\n        throw(\"Override item getter in base class\");\n    }\n\n\n    public draw(frame:Float, lerp?:boolean, callback?:(item:Drawable, frame:Float, lerp?:boolean)=>void):void{\n        this.library.scene.draw(this.item, frame, lerp, callback)\n    }\n\n\n}","import { Float } from \"../types/Float\";\n\nexport class Matrix{\n\n    _00:Float; _01:Float; _02:Float; _03:Float;\n    _10:Float; _11:Float; _12:Float; _13:Float;\n    _20:Float; _21:Float; _22:Float; _23:Float;\n    _30:Float; _31:Float; _32:Float; _33:Float;\n\n    data:Float32Array\n\n\n    constructor(\n        _00:Float, _01:Float, _02:Float, _03:Float,\n        _10:Float, _11:Float, _12:Float, _13:Float,\n        _20:Float, _21:Float, _22:Float, _23:Float,\n        _30:Float, _31:Float, _32:Float, _33:Float,\n    ){\n        this._00=_00; this._01=_01; this._02=_02; this._03=_03; \n        this._10=_10; this._11=_11; this._12=_12; this._13=_13; \n        this._20=_20; this._21=_21; this._22=_22; this._23=_23; \n        this._30=_30; this._31=_31; this._32=_32; this._33=_33; \n        \n        this.data = new Float32Array([\n            _00, _01, _02, _03,\n            _10, _11, _12, _13,\n            _20, _21, _22, _23,\n            _30, _31, _32, _33,\n        ])\n    }\n\n}","\nexport function modWrap(a:number, b:number){\n    return a - b * Math.floor(a/b);\n}\n","import { Instance, InstanceProps } from \"./Instance\";\n\n\nexport type SpriteInstanceProps = InstanceProps & {\n\n}\n\n\nexport class SpriteInstance extends Instance{\n\n    constructor(props:SpriteInstanceProps){\n        super(props)\n    }\n\n    \n    public get item(){\n        return this.library.spritesByName[this.itemName];\n    }\n\n\n}\n","import { Drawable } from \"./Drawable\";\nimport { Library } from \"./Library\";\nimport { Float } from \"./types/Float\";\n\n\nexport class Scene{\n\n    draw: (item:Drawable, frame:Float, lerp?:boolean, callback?:(item:Drawable, frame:Float, lerp?:boolean)=>void) => void\n    drawImage: (image:HTMLImageElement, sx:number, sy:number, sw:number, sh:number, rx:number, ry:number, rw:number, rh:number) => void\n    pixelData:Record<string, { ctx:CanvasRenderingContext2D, imageData:ImageData, image:HTMLImageElement }>\n\n\n    constructor(){\n        this.draw = null! // OVERRIDE THIS IN THE BASE CLASS!\n        this.drawImage = null!\n        this.pixelData = {}\n    }\n\n\n    get mouseX():number{\n        throw(\"Override mouseX in base class\")\n    }\n\n\n    get mouseY():number{\n        throw(\"Override mouseY in base class\")\n    }\n\n  \n    createLibrary(name:string, path:string){\n        const library = new Library(name, path, this);\n        return library;\n    }\n\n\n    getPixelData(image:HTMLImageElement){\n        if(image.complete==false) throw(\"Image has not loaded!\")\n\n        const canvas = document.createElement('canvas')\n        canvas.width = image.width\n        canvas.height = image.height\n        const ctx = document.createElement('canvas').getContext('2d')!\n        ctx.drawImage(image, 0, 0);\n\n        const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height)\n\n        return {\n            ctx,\n            imageData,\n            image,\n        }\n    }\n\n\n}","import { JsonAnimationData } from \"./json/AnimationJson\";\nimport { Clip, ClipProps } from \"./Clip\";\nimport { Vec2 } from \"./geom/Vec2\";\nimport { InstanceProps } from \"./Instance\";\nimport { Sprite, SpriteProps } from \"./Sprite\";\nimport { Atlas, AtlasProps } from \"./Atlas\";\nimport { normaliseJson } from \"./json/utilJson\";\nimport { Scene } from \"./Scene\";\nimport { Matrix } from \"./geom/Matrix\";\nimport { JsonSpriteMap } from \"./json/SpritemapJson\"\nimport { createImage } from \"./util/createImage\";\n\n\nexport class Library{\n\n    name:string;\n    path:string;\n    clips:Array<Clip> = [];\n    clipsByName:Record<string, Clip> = {};\n    spritesByName:Record<string, Sprite> = {};\n    atlases:Array<Atlas> = [];\n    atlasesBySpriteName:Record<string, Atlas> = {}\n    scene:Scene;\n    \n    \n    constructor(name:string, path:string, scene:Scene){\n        this.name = name;\n        this.path = path;\n        this.atlases = [];\n        this.scene = scene;\n    }\n\n\n    symbol(name:string){\n        if(this.clipsByName[name]) return this.clipsByName[name]\n        if(this.spritesByName[name]) return this.spritesByName[name]\n        throw(\"Cannot find symbol: \" + name + \" for library: \" + this.path);\n    }\n\n\n    createAtlas(props:Omit<AtlasProps, 'library'|'pixelData'>, pixelData:ReturnType<Scene['getPixelData']>){\n        const atlas = new Atlas({...props, library:this, pixelData});\n        this.atlases.push(atlas);\n        return atlas;\n    }\n\n\n    createSprite(atlas:Atlas, props:Omit<SpriteProps, 'atlas'>){\n        const sprite = new Sprite({...props, atlas:atlas})\n        atlas.sprites.push(sprite);\n        this.spritesByName[sprite.name] = sprite;\n        this.atlasesBySpriteName[sprite.name] = atlas;\n        return sprite;\n    }\n\n\n    createClip(props:Omit<ClipProps, 'library'>){\n        const clip = new Clip({...props, library:this});\n        this.clips.push(clip)\n        this.clipsByName[clip.name] = clip\n        return clip;\n    }\n\n\n    public async loadData(){\n        const animJsonPath = this.path + \"/Animation.json\";\n        const animFetchResult = await fetch(animJsonPath);\n        const dataRaw:JsonAnimationData = await animFetchResult.json();\n        const data = normaliseJson(dataRaw) as JsonAnimationData;\n        const spriteNames:Array<string> = [];\n\n        // Clip\n        for(const symbolData of data.symbolDictionary.symbols){\n            const clip = this.createClip({\n                name: symbolData.symbolName,\n            })\n\n            // Layer\n            for(let l=symbolData.timeline.layers.length-1; l>=0; l--){\n                const layerData = symbolData.timeline.layers[l]\n                const layer = clip.createLayer({\n                    name: layerData.layerName,\n                    type: layerData.layerType || 'Normal',\n                    clippedBy: layerData.clippedBy || null,\n                })\n\n                // Frame\n                for(const frameData of layerData.frames){\n                    const frame = layer.createFrame({\n                        name: \"\"+frameData.index,\n                        totalFrames: frameData.duration,\n                        labelName: frameData.name,\n                        index: frameData.index,\n                    })\n\n                    // Element\n                    for(const elemInstanceData of  frameData.elements){\n                        if(\"symbolInstance\" in elemInstanceData){\n                            const elemData = elemInstanceData.symbolInstance;\n                            const m = elemData.matrix3D;\n\n                            const instanceProps:Omit<InstanceProps, 'totalFrames'>  = {\n                                frame,\n                                name: frame.name,\n                                filters: elemData.filters || null,\n                                matrix: 'm00' in m ? new Matrix(m.m00, m.m01, m.m02, m.m03,\n                                                                    m.m10, m.m11, m.m12, m.m13,\n                                                                    m.m20, m.m21, m.m22, m.m23,\n                                                                    m.m30, m.m31, m.m32, m.m33)\n                                                     : new Matrix(m[ 0], m[ 1], m[ 2], m[ 3],\n                                                                    m[ 4], m[ 5], m[ 6], m[ 7],\n                                                                    m[ 8], m[ 9], m[10], m[11],\n                                                                    m[12], m[13], m[14], m[15]),\n                                itemName: elemData.symbolName,\n                                color: elemData.color || null,\n                                //position: new Vec3(elemData.decomposedMatrix.position),\n                                //scale: new Vec3(elemData.decomposedMatrix.scaling),\n                                //rotation: new Vec3(elemData.decomposedMatrix.rotation),\n                            }\n\n                            const clipInstance = frame.createClipInstance({\n                                ...instanceProps,\n                                transformationPoint: new Vec2(elemData.transformationPoint),\n                                behaviour: elemData.symbolType == \"graphic\"\n                                         ? { type: 'graphic', loop: elemData.loop, firstFrame: elemData.firstFrame}\n                                         : { type: 'movieclip' }\n                            })\n                        }else{\n                            const elemData = elemInstanceData.atlasSpriteInstance;\n                            const m = elemData.matrix3D;\n\n                            const spriteInstance = frame.createSpriteInstance({\n                                name: frame.name,\n                                filters: elemData.filters || null,\n                                color: null,\n                                matrix: 'm00' in m ? new Matrix(m.m00, m.m01, m.m02, m.m03,\n                                                                    m.m10, m.m11, m.m12, m.m13,\n                                                                    m.m20, m.m21, m.m22, m.m23,\n                                                                    m.m30, m.m31, m.m32, m.m33)\n                                                     : new Matrix(m[ 0], m[ 1], m[ 2], m[ 3],\n                                                                    m[ 4], m[ 5], m[ 6], m[ 7],\n                                                                    m[ 8], m[ 9], m[10], m[11],\n                                                                    m[12], m[13], m[14], m[15]),\n                                itemName: elemData.name,\n                                //position: new Vec3(elemData.decomposedMatrix.position),\n                                //scale: new Vec3(elemData.decomposedMatrix.scaling),\n                                //rotation: new Vec3(elemData.decomposedMatrix.rotation),\n                            })\n\n                            if(spriteNames.indexOf(spriteInstance.itemName)==-1) spriteNames.push(spriteInstance.itemName)\n                        }\n                    }\n                }\n            }\n        };\n\n        // Sprites\n        let pendingAtlasIndex = 1;\n        for(const spriteName of spriteNames){\n            if(this.atlasesBySpriteName[spriteName]==null){\n                const spriteJsonPath = this.path + `/spritemap${pendingAtlasIndex}.json`;\n                const altasFetch = await fetch(spriteJsonPath);\n                const dataRaw:JsonSpriteMap = await altasFetch.json();\n                const data = normaliseJson(dataRaw) as JsonSpriteMap;\n\n                const imagePath = this.path + `/spritemap${pendingAtlasIndex}.png`;\n                const image = await createImage(imagePath) // TODO: This will impact load times. Find a way to make this load parallel. Workers?\n\n                \n                const atlas = this.createAtlas({\n                    image,\n                    app: data.meta.app,\n                    version: data.meta.version,\n                    imagePath: data.meta.image,\n                    format: data.meta.format,\n                    size: data.meta.size,\n                    resolution: data.meta.resolution ,\n                }, this.scene.getPixelData(image),)\n                for(const spriteSpriteData of data.atlas.sprites){\n                    const spriteData = spriteSpriteData.sprite;\n                    const sprite = this.createSprite(atlas, {\n                        name: spriteData.name,\n                        x: spriteData.x,\n                        y: spriteData.y,\n                        width: spriteData.w,\n                        height: spriteData.h,\n                        rotated: spriteData.rotated,\n                    })\n                    this.atlasesBySpriteName[sprite.name] = atlas;\n                }\n\n\n                pendingAtlasIndex++;\n            }\n        }\n\n    }\n\n\n}\n","import { Drawable } from \"./Drawable\";\nimport { Frame } from \"./Frame\";\nimport { Layer, LayerProps } from \"./Layer\";\nimport { DrawableProps } from './Drawable'\nimport { modWrap } from \"./util/math\";\nimport { Float } from \"./types/Float\";\n\nexport type ClipProps = Omit<DrawableProps, 'totalFrames'|'id'>\n\n\nexport class Clip extends Drawable{\n\n    layers:Array<Layer>;\n    layersById:Record<string, Layer>;\n    layersByName:Record<string, Layer>\n    framesById:Record<string, Frame>\n    framesByLabel:Record<string, Frame>\n\n\n    constructor(props:ClipProps){\n        super({\n            ...props,\n            totalFrames:0,\n            id:`${props.library.name}.clips.${props.name}`,\n        })\n        \n        this.layers = [];\n        this.layersById = {};\n        this.layersByName = {};\n        this.framesById = {};\n        this.framesByLabel = {};\n    }\n\n\n    public createLayer(props:Omit<LayerProps, 'clip'>){\n        const layer = new Layer({...props, clip:this});\n        this.layers.push(layer);\n        this.layersById[layer.id] = layer;\n        this.layersByName[layer.name] = layer;\n        if(layer.totalFrames > this.totalFrames) this.totalFrames = layer.totalFrames;\n\n        return layer;\n    }\n\n\n    __addFrame(frame:Frame){\n        this.framesById[frame.id] = frame;\n        if(frame.layer.totalFrames > this.totalFrames) this.totalFrames = frame.layer.totalFrames;\n        if(frame.labelName) this.framesByLabel[frame.labelName] = frame;\n    }\n\n\n    public draw(frame:Float, lerp?:boolean, callback?:(item:Drawable, frame:Float, lerp?:boolean)=>void){\n        for(const layer of this.layers){\n            if(layer.totalFrames==0) continue;\n            var f = modWrap(frame, layer.totalFrames);\n            if(layer.totalFrames>=f){\n                this.library.scene.draw(layer, frame, lerp, callback);\n            }\n        }\n    }\n\n   \n}","import { Drawable } from \"./Drawable\";\nimport { Atlas } from \"./Atlas\";\nimport { DrawableProps } from \"./Drawable\"\nimport { Float } from \"./types/Float\";\n\n\nexport type SpriteProps = Omit<DrawableProps, 'totalFrames'|'library'|'id'> & {\n    x:Float,\n    y:Float,\n    width:Float,\n    height:Float,\n    rotated:boolean,\n    atlas:Atlas,\n}\n\n\nexport class Sprite extends Drawable{\n    x:Float;\n    y:Float;\n    width:Float;\n    height:Float;\n    rotated:boolean;\n    atlas:Atlas;\n\n    constructor(props:SpriteProps){\n        super({\n            ...props,\n            totalFrames:1,\n            library:props.atlas.library,\n            id:`${props.atlas.library.name}.sprites.${props.name}`\n        })\n        this.x = props.x;\n        this.y = props.y;\n        this.width = props.width;\n        this.height = props.height;\n        this.rotated = props.rotated;\n        this.atlas = props.atlas;\n    }\n\n\n    public getPixel(x:Float, y:Float, transform:DOMMatrix){\n        const point = new DOMPoint(x, y)\n        const imatrix = transform.inverse()\n        const local = point.matrixTransform(imatrix)\n\n        if(local.x<0 || local.x>=this.width) return null;\n        if(local.y<0 || local.y>=this.height) return null;\n\n        return this.atlas.getPixel(this.x + local.x, this.y + local.y)\n    }\n\n\n    public isSolidPixelAt(x:Float, y:Float, transform:DOMMatrix, alphaThreshold:number = 1){\n        const pixel = this.getPixel(x, y, transform)\n        return pixel && pixel[3] > alphaThreshold\n    }\n\n\n    public draw(frame:Float, lerp?:boolean, callback?:(item:Drawable, frame:Float, lerp?:boolean)=>void){\n        this.scene.drawImage(this.atlas.image, this.x, this.y, this.width, this.height, 0, 0, this.width, this.height)\n    }\n\n}\n","import { Library } from \"./Library\";\nimport { Scene } from \"./Scene\";\nimport { Sprite } from \"./Sprite\";\nimport { Float } from \"./types/Float\";\n\n\nexport type AtlasProps = {\n    library:Library,\n    image:HTMLImageElement,\n    app:string,\n    version:string,\n    imagePath:string,\n    format:string,\n    size:{w:Float, h:Float},\n    resolution:string,\n    pixelData: ReturnType<Scene['getPixelData']>,\n}\n\n\nexport class Atlas{\n    library:Library;\n    sprites:Array<Sprite>;\n    image:HTMLImageElement;\n\n    app:string;\n    version:string;\n    imagePath:string;\n    format:string;\n    size:{w:Float, h:Float};\n    resolution:string;\n    pixelData: ReturnType<Scene['getPixelData']>;\n\n    \n    constructor(props:AtlasProps){\n        this.sprites = [];\n        this.library = props.library;\n        this.image = props.image;\n        this.app = props.app;\n        this.version = props.version;\n        this.imagePath = props.imagePath;\n        this.format = props.format;\n        this.size = props.size;\n        this.resolution = props.resolution;\n        this.pixelData = props.pixelData;\n\n        // this.library.scene.getPixelData(this.image) // TODO: Determine if this should be a lazy operation\n    }\n\n\n\n    getPixel(x:Float, y:Float){\n        x = Math.floor(x)\n        y = Math.floor(y)\n        \n        let i = x + (y*this.pixelData.imageData.width)\n\n        const data = this.pixelData.imageData.data\n        return [\n            data[(i*4) + 0],\n            data[(i*4) + 1],\n            data[(i*4) + 2],\n            data[(i*4) + 3],\n        ]\n    }\n\n\n}\n","import { JsonAnimationData } from \"./AnimationJson\";\n\nconst keys:Record<string, string> = {\n    // Fix inconsistent names\n\n    // spritemap.json\n    SPRITE: \"sprite\",\n    SPRITES: \"sprites\",\n    ATLAS: \"atlas\",\n\n    // Animation.json\n    ANIMATION: \"animation\",\n    ATLAS_SPRITE_instance: \"atlasSpriteInstance\",\n    DecomposedMatrix: \"decomposedMatrix\",\n    Frames: \"frames\",\n    framerate: \"frameRate\",\n    Instance_Name: \"instanceName\",\n    Layer_name: \"layerName\",\n    Layer_type: \"layerType\",\n    Clipped_by: \"clippedBy\",\n    LAYERS: \"layers\",\n    Matrix3D: \"matrix3D\",\n    Position: \"position\",\n    Rotation: \"rotation\",\n    Scaling: \"scaling\",\n    SYMBOL_DICTIONARY: \"symbolDictionary\",\n    SYMBOL_Instance: \"symbolInstance\",\n    SYMBOL_name: \"symbolName\",\n    Symbols: \"symbols\",\n    TIMELINE: \"timeline\",\n\n\n    // Filter\n    GradientEntries: \"gradientEntries\",\n\n    // Color\n    RedMultiplier: 'redMultiplier',\n    AlphaOffset: 'alphaOffset',\n\n     // Animation.json optimised\n     AN: \"animation\",\n     AM: \"alphaMultiplier\",\n     ASI: \"atlasSpriteInstance\",\n     BM: \"bitmap\",\n     C: \"color\",\n     DU: \"duration\",\n     E: \"elements\",\n     FF: \"firstFrame\",\n     FR: \"frames\",\n     FRT: \"frameRate\",\n     I: \"index\",\n     IN: \"instanceName\",\n     L: \"layers\",\n     LN: \"layerName\",\n     LP: \"loop\",\n     M3D: \"matrix3D\",\n     MD: \"metadata\",\n     M: \"mode\",\n     N: \"name\",\n     POS: \"position\",\n     S: \"symbols\",\n     SD: \"symbolDictionary\",\n     SI: \"symbolInstance\",\n     SN: \"symbolName\",\n     ST: \"symbolType\",\n     TL: \"timeline\",\n     TRP: \"transformationPoint\",\n};\n\n\nfunction normaliseKey(key:string){\n    return keys[key] || key;\n}\n\n\n\n// AnimateCC exports wildy inconsistent JSON. Normalise the\n// fields to make it easier to work with\nexport function normaliseJson(data:any):any{\n    if(typeof data == \"string\" || typeof data == \"number\") return data\n    switch(typeof data){\n        case \"string\": return data;\n        case \"number\": return data;\n        case \"boolean\": return data;\n        case \"object\":\n            if(Array.isArray(data)){\n                return (data as Array<any>).map(normaliseJson);\n            }else{\n                var result:any = {};\n                Object.keys(data).forEach(key => result[normaliseKey(key)] = normaliseJson(data[key]));\n                return result;\n            }\n        case \"bigint\": throw(\"Not supported\");\n        case \"function\": throw(\"Not supported\");\n        case \"symbol\": throw(\"Not supported\");\n        case \"undefined\": throw(\"Not supported\");\n        default: throw(\"Unsupported\")\n    }\n}\n","export const createImage:(src:string)=>Promise<HTMLImageElement> = (src:string) =>\n    new Promise(resolve => {\n        const img = new Image();\n        img.src = src;\n        img.onload = () => resolve(img);\n        img.onerror = () => { throw(\"Image did not load: \" + img.src) }\n    });"],"names":[],"version":3,"file":"index.ffcc60f3.js.map","sourceRoot":"/__parcel_source_root/"}